# Strands GraphBuilderå¤šAgentç³»ç»Ÿ - é¡¹ç›®æ€»ç»“

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®åŸºäºStrands GraphBuilderæ„å»ºçœŸæ­£çš„å¤šAgentåä½œç³»ç»Ÿï¼Œä½¿ç”¨å›¾å½¢åŒ–å·¥ä½œæµå®ç°Agentä¹‹é—´çš„æ™ºèƒ½åä½œï¼Œä¸“é—¨ç”¨äºæ‰§è¡Œå¤æ‚ä»»åŠ¡çš„ç³»ç»ŸåŒ–è§£å†³ã€‚

## ğŸ—ï¸ GraphBuilderæ¶æ„è®¾è®¡

### æ ¸å¿ƒAgentèŠ‚ç‚¹

1. **Task Analyzer Agent (ä»»åŠ¡åˆ†æå™¨)**
   - èŠ‚ç‚¹å: "task_analyzer"
   - èŒè´£: ä»»åŠ¡åˆ†æå’Œè®¡åˆ’åˆ¶å®š
   - åŠŸèƒ½: åˆ†æç”¨æˆ·ä»»åŠ¡ï¼Œåˆ¶å®šæ‰§è¡Œè®¡åˆ’ï¼Œæ‹†è§£å­ä»»åŠ¡
   - è¾“å‡º: ç»“æ„åŒ–çš„ä»»åŠ¡åˆ†æå’Œæ‰§è¡Œè®¡åˆ’

2. **Information Collector Agent (ä¿¡æ¯æ”¶é›†å™¨)**
   - èŠ‚ç‚¹å: "information_collector"
   - èŒè´£: ä¿¡æ¯æ”¶é›†å’Œèµ„æ–™æ•´ç†
   - åŠŸèƒ½: ä»æ–‡ä»¶æˆ–ç½‘ç»œæ”¶é›†å¿…è¦ä¿¡æ¯
   - å·¥å…·: æµè§ˆå™¨ã€æ–‡ä»¶è¯»å–ç­‰

3. **Tool Executor Agent (å·¥å…·æ‰§è¡Œå™¨)**
   - èŠ‚ç‚¹å: "tool_executor"
   - èŒè´£: å·¥å…·é€‰æ‹©å’Œæ‰§è¡Œæ“ä½œ
   - åŠŸèƒ½: æ ¹æ®ä»»åŠ¡éœ€æ±‚é€‰æ‹©å’Œæ‰§è¡Œåˆé€‚çš„å·¥å…·
   - å·¥å…·: è®¡ç®—å™¨ã€ä»£ç è§£é‡Šå™¨ã€æµè§ˆå™¨ç­‰æ‰€æœ‰å¯ç”¨å·¥å…·

4. **Result Analyzer Agent (ç»“æœåˆ†æå™¨)**
   - èŠ‚ç‚¹å: "result_analyzer"
   - èŒè´£: ç»“æœåˆ†æå’Œå®Œæˆåº¦åˆ¤æ–­
   - åŠŸèƒ½: åˆ†ææ‰§è¡Œç»“æœï¼Œåˆ¤æ–­ä»»åŠ¡å®ŒæˆçŠ¶æ€
   - è¾“å‡º: å®Œæˆåº¦è¯„ä¼°å’Œä¸‹ä¸€æ­¥å»ºè®®

5. **Answer Formatter Agent (ç­”æ¡ˆæ ¼å¼åŒ–å™¨)**
   - èŠ‚ç‚¹å: "answer_formatter"
   - èŒè´£: ç­”æ¡ˆæ ¼å¼åŒ–å’Œè¾“å‡ºè§„èŒƒ
   - åŠŸèƒ½: å°†ç»“æœæ ¼å¼åŒ–ä¸ºç¬¦åˆè¦æ±‚çš„æœ€ç»ˆç­”æ¡ˆ
   - è¾“å‡º: ä½¿ç”¨`<answer></answer>`æ ‡ç­¾çš„æ ¼å¼åŒ–ç­”æ¡ˆ

### GraphBuilderå·¥ä½œæµè®¾è®¡

```
ç”¨æˆ·ä»»åŠ¡ â†’ task_analyzer â†’ information_collector â†’ tool_executor â†’ result_analyzer â†’ answer_formatter
                                                        â†‘              â†“
                                                        â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (å¾ªç¯)
```

**GraphBuilderå®ç°**:
```python
builder = GraphBuilder()
builder.add_node(task_analyzer, "task_analyzer")
builder.add_node(information_collector, "information_collector")
builder.add_node(tool_executor, "tool_executor")
builder.add_node(result_analyzer, "result_analyzer")
builder.add_node(answer_formatter, "answer_formatter")

builder.add_edge("task_analyzer", "information_collector")
builder.add_edge("information_collector", "tool_executor")
builder.add_edge("tool_executor", "result_analyzer")
builder.add_edge("result_analyzer", "answer_formatter")
builder.add_edge("result_analyzer", "tool_executor")  # å¾ªç¯è·¯å¾„

builder.set_entry_point("task_analyzer")
workflow = builder.build()
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
â”œâ”€â”€ simple_agent.py              # åŸæœ‰å•Agentç³»ç»Ÿ
â”œâ”€â”€ multi_agent_system.py        # æ–°çš„å¤šAgentç³»ç»Ÿæ ¸å¿ƒ
â”œâ”€â”€ demo_multi_agent.py          # åŠŸèƒ½æ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ test_multi_agent.py          # ç³»ç»Ÿæµ‹è¯•è„šæœ¬
â”œâ”€â”€ performance_comparison.py    # æ€§èƒ½å¯¹æ¯”å·¥å…·
â”œâ”€â”€ run.py                       # ç»Ÿä¸€å¯åŠ¨å™¨
â”œâ”€â”€ multi_agent_config.json      # å¤šAgenté…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt             # ä¾èµ–åˆ—è¡¨ (å·²æ›´æ–°)
â””â”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£ (å·²æ›´æ–°)
```

## ğŸ”§ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **Strands Agents SDK**: åŸºç¡€Agentæ¡†æ¶
- **Strands GraphBuilder**: å¤šAgentå›¾å½¢åŒ–å·¥ä½œæµç¼–æ’
- **Strands MultiAgent**: çŠ¶æ€ç®¡ç†å’Œå·¥å…·é›†æˆ

### æ¨¡å‹æ”¯æŒ
- **AWS Bedrock**: Claude 3.7 Sonnet
- **OpenAI Compatible**: é€šè¿‡SiliconFlow API

### å·¥å…·é›†æˆ
- **MCP (Model Context Protocol)**: å¤–éƒ¨å·¥å…·é›†æˆ
- **AgentCore**: AWSåŸç”Ÿçš„ä»£ç è§£é‡Šå™¨å’Œæµè§ˆå™¨
- **å†…ç½®å·¥å…·**: è®¡ç®—å™¨ã€æ—¶é—´ã€å›¾åƒè¯»å–ç­‰

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

### 1. æ™ºèƒ½ä»»åŠ¡åˆ†è§£
- è‡ªåŠ¨å°†å¤æ‚æŸ¥è¯¢åˆ†è§£ä¸ºå­ä»»åŠ¡
- è€ƒè™‘ä»»åŠ¡ä¾èµ–å…³ç³»å’Œä¼˜å…ˆçº§
- åŠ¨æ€è°ƒæ•´æ‰§è¡Œç­–ç•¥

### 2. å¤šè½®åä½œæœç´¢
- å¤šä¸ªAgentååŒå·¥ä½œ
- ä¿¡æ¯äº¤å‰éªŒè¯å’Œè¡¥å……
- è¿­ä»£ä¼˜åŒ–æœç´¢ç»“æœ

### 3. è´¨é‡ä¿è¯æœºåˆ¶
- å†…ç½®äº‹å®æ ¸æŸ¥æµç¨‹
- å¯ä¿¡åº¦è¯„åˆ†ç³»ç»Ÿ
- å¤šæºä¿¡æ¯éªŒè¯

### 4. çŠ¶æ€ç®¡ç†
- GraphBuilderçŠ¶æ€å›¾ç®¡ç†
- èŠ‚ç‚¹é—´æ•°æ®ä¼ é€’æœºåˆ¶
- å®Œæ•´çš„æ‰§è¡Œè½¨è¿¹è®°å½•

### 5. çµæ´»é…ç½®
- JSONé…ç½®æ–‡ä»¶ç®¡ç†
- æ”¯æŒAgentå¯ç”¨/ç¦ç”¨
- å¯è°ƒæ•´çš„æ€§èƒ½å‚æ•°

## ğŸ“Š æ€§èƒ½ç‰¹ç‚¹

### å•Agent vs å¤šAgentå¯¹æ¯”

| ç‰¹æ€§ | å•Agent | å¤šAgent |
|------|---------|---------|
| å“åº”é€Ÿåº¦ | å¿« (1-10ç§’) | æ…¢ (30-300ç§’) |
| ä¿¡æ¯è´¨é‡ | ä¸­ç­‰ | é«˜ |
| å¯ä¿¡åº¦è¯„ä¼° | æ—  | æœ‰ |
| é€‚ç”¨åœºæ™¯ | ç®€å•æŸ¥è¯¢ | å¤æ‚ç ”ç©¶ |
| èµ„æºæ¶ˆè€— | ä½ | é«˜ |

### ä½¿ç”¨å»ºè®®

**é€‰æ‹©å•Agentæ¨¡å¼å½“:**
- éœ€è¦å¿«é€Ÿå“åº”
- æŸ¥è¯¢ç›¸å¯¹ç®€å•
- èµ„æºæœ‰é™çš„ç¯å¢ƒ

**é€‰æ‹©å¤šAgentæ¨¡å¼å½“:**
- éœ€è¦æ·±åº¦åˆ†æ
- ä¿¡æ¯è´¨é‡è¦æ±‚é«˜
- å¤æ‚çš„ç ”ç©¶ä»»åŠ¡

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### é€‚åˆå¤šAgentçš„æŸ¥è¯¢ç±»å‹
1. **å­¦æœ¯ç ”ç©¶**: "åˆ†æé‡å­è®¡ç®—åœ¨å¯†ç å­¦é¢†åŸŸçš„å½±å“"
2. **å¸‚åœºåˆ†æ**: "è¯„ä¼°ç”µåŠ¨æ±½è½¦è¡Œä¸šçš„å‘å±•è¶‹åŠ¿å’ŒæŠ•èµ„æœºä¼š"
3. **æŠ€æœ¯å¯¹æ¯”**: "æ¯”è¾ƒä¸åŒAIæ¡†æ¶çš„ä¼˜åŠ£åŠ¿å’Œé€‚ç”¨åœºæ™¯"
4. **æ”¿ç­–åˆ†æ**: "ç ”ç©¶ç¢³ä¸­å’Œæ”¿ç­–å¯¹åˆ¶é€ ä¸šçš„å½±å“"

### é€‚åˆå•Agentçš„æŸ¥è¯¢ç±»å‹
1. **å¿«é€Ÿé—®ç­”**: "ä»€ä¹ˆæ˜¯Dockerå®¹å™¨?"
2. **ä»£ç ç”Ÿæˆ**: "å†™ä¸€ä¸ªPythonå¿«é€Ÿæ’åºç®—æ³•"
3. **ç®€å•è®¡ç®—**: "è®¡ç®—å¤åˆ©å…¬å¼"
4. **æ ¼å¼è½¬æ¢**: "å°†JSONè½¬æ¢ä¸ºCSVæ ¼å¼"

## ğŸ”„ GraphBuilderå·¥ä½œæµç¨‹è¯¦è§£

### 1. åˆå§‹åŒ–é˜¶æ®µ
- åˆ›å»ºæ‰€æœ‰Agentå®ä¾‹
- ä½¿ç”¨GraphBuilderæ„å»ºå·¥ä½œæµå›¾
- è®¾ç½®èŠ‚ç‚¹å’Œè¾¹è¿æ¥

### 2. ä»»åŠ¡åˆ†æé˜¶æ®µ (task_analyzer)
- åˆ†æç”¨æˆ·ä»»åŠ¡
- åˆ¶å®šæ‰§è¡Œè®¡åˆ’
- æ‹†è§£å­ä»»åŠ¡

### 3. ä¿¡æ¯æ”¶é›†é˜¶æ®µ (information_collector)
- æ”¶é›†å¿…è¦ä¿¡æ¯
- ä»æ–‡ä»¶æˆ–ç½‘ç»œè·å–èµ„æ–™
- æ•´ç†ç›¸å…³ä¿¡æ¯

### 4. å·¥å…·æ‰§è¡Œé˜¶æ®µ (tool_executor)
- é€‰æ‹©åˆé€‚çš„å·¥å…·
- æ‰§è¡Œå…·ä½“æ“ä½œ
- è·å–æ‰§è¡Œç»“æœ

### 5. ç»“æœåˆ†æé˜¶æ®µ (result_analyzer)
- åˆ†ææ‰§è¡Œç»“æœ
- åˆ¤æ–­ä»»åŠ¡å®ŒæˆçŠ¶æ€
- å†³å®šæ˜¯å¦éœ€è¦ç»§ç»­è¿­ä»£

### 6. ç­”æ¡ˆæ ¼å¼åŒ–é˜¶æ®µ (answer_formatter)
- æ ¼å¼åŒ–æœ€ç»ˆç­”æ¡ˆ
- ä½¿ç”¨`<answer></answer>`æ ‡ç­¾
- ç¡®ä¿è¾“å‡ºç¬¦åˆè¦æ±‚

## ğŸ› ï¸ éƒ¨ç½²å’Œä½¿ç”¨

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- 8GB+ RAM (æ¨è)
- ç½‘ç»œè¿æ¥ (ç”¨äºæœç´¢)

### å¿«é€Ÿå¯åŠ¨
```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. é…ç½®ç¯å¢ƒ
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶

# 3. è¿è¡Œç³»ç»Ÿ
python run.py
```

### é…ç½®é€‰é¡¹
- **æ¨¡å‹é€‰æ‹©**: Bedrockæˆ–OpenAIå…¼å®¹API
- **MCPå·¥å…·**: å¯é€‰çš„å¤–éƒ¨å·¥å…·é›†æˆ
- **æ€§èƒ½å‚æ•°**: è¿­ä»£æ¬¡æ•°ã€è¶…æ—¶è®¾ç½®ç­‰

## ğŸ“ˆ æœªæ¥æ”¹è¿›æ–¹å‘

### 1. æ€§èƒ½ä¼˜åŒ–
- å¹¶è¡Œæ‰§è¡Œä¼˜åŒ–
- ç¼“å­˜æœºåˆ¶
- æ™ºèƒ½è·¯ç”±ç®—æ³•

### 2. åŠŸèƒ½æ‰©å±•
- æ›´å¤šä¸“é—¨Agent (å¦‚å›¾åƒåˆ†æã€æ•°æ®å¯è§†åŒ–)
- æ”¯æŒæ›´å¤šæ•°æ®æº
- å®æ—¶åä½œåŠŸèƒ½

### 3. ç”¨æˆ·ä½“éªŒ
- Webç•Œé¢
- å®æ—¶è¿›åº¦æ˜¾ç¤º
- äº¤äº’å¼æŠ¥å‘Š

### 4. ä¼ä¸šåŠŸèƒ½
- ç”¨æˆ·æƒé™ç®¡ç†
- å®¡è®¡æ—¥å¿—
- æ‰¹é‡å¤„ç†API

## ğŸ‰ é¡¹ç›®æˆæœ

âœ… **æˆåŠŸå°†å•Agentå‡çº§ä¸ºå¤šAgentæ¶æ„**
âœ… **åŸºäºStrands GraphBuilderå®ç°åŸç”Ÿå¤šAgentç³»ç»Ÿ**
âœ… **å»ºç«‹äº†å®Œæ•´çš„è´¨é‡ä¿è¯æœºåˆ¶**
âœ… **æä¾›äº†çµæ´»çš„é…ç½®å’Œéƒ¨ç½²æ–¹æ¡ˆ**
âœ… **åˆ›å»ºäº†å®Œæ•´çš„æµ‹è¯•å¥—ä»¶**
âœ… **ä»£ç ç®€æ´ï¼Œæ˜“äºç»´æŠ¤**

## ğŸ† æœ€ç»ˆæ–¹æ¡ˆ

**åŸºäºStrands GraphBuilderçš„å¤šAgentç³»ç»Ÿ** (`multi_agent.py`)ï¼š
- ä½¿ç”¨`from strands.multiagent import GraphBuilder`æ„å»ºå›¾å½¢åŒ–å·¥ä½œæµ
- å®Œå…¨åŸºäºStrands SDKï¼Œç¬¦åˆå®˜æ–¹æ¶æ„
- ä»£ç ç®€æ´ï¼Œç»´æŠ¤å®¹æ˜“
- æ€§èƒ½ä¼˜ç§€ï¼Œä¾èµ–æœ€å°‘
- é€‚åˆç”Ÿäº§ç¯å¢ƒä½¿ç”¨

è¿™ä¸ªå¤šAgentç³»ç»Ÿä¸ºå¤æ‚ä»»åŠ¡æä¾›äº†å¼ºå¤§è€Œå¯é çš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡GraphBuilderå®ç°çœŸæ­£çš„å›¾å½¢åŒ–å·¥ä½œæµåä½œã€‚

---

## ğŸ”„ 2025-09-09 GraphBuilderæ¶æ„å®ç°

### æ¶æ„ç‰¹ç‚¹
åŸºäºStrands GraphBuilderæ„å»ºçœŸæ­£çš„å¤šAgentåä½œç³»ç»Ÿï¼š

1. **GraphBuilderæ ¸å¿ƒ**:
   - ä½¿ç”¨`from strands.multiagent import GraphBuilder`
   - é€šè¿‡`builder.add_node(agent, "node_name")`æ·»åŠ AgentèŠ‚ç‚¹
   - é€šè¿‡`builder.add_edge("from", "to")`è¿æ¥å·¥ä½œæµ
   - é€šè¿‡`builder.set_entry_point("start")`è®¾ç½®å…¥å£ç‚¹
   - é€šè¿‡`builder.build()`æ„å»ºæœ€ç»ˆå·¥ä½œæµ

2. **AgentèŠ‚ç‚¹**:
   - æ¯ä¸ªAgentä½¿ç”¨æ ‡å‡†çš„`Agent(name, system_prompt, tools)`åˆ›å»º
   - 5ä¸ªä¸“é—¨Agentå¯¹åº”å•Agentå·¥ä½œæµç¨‹çš„å„ä¸ªé˜¶æ®µ
   - æ”¯æŒå·¥å…·é›†æˆå’ŒçŠ¶æ€ä¼ é€’

3. **å·¥ä½œæµæ‰§è¡Œ**:
   - çº¿æ€§ä¸»æµç¨‹ï¼štask_analyzer â†’ information_collector â†’ tool_executor â†’ result_analyzer â†’ answer_formatter
   - æ”¯æŒå¾ªç¯ï¼šresult_analyzerå¯ä»¥å›åˆ°tool_executorç»§ç»­æ‰§è¡Œ
   - é€šè¿‡`workflow(task_input)`æ‰§è¡Œæ•´ä¸ªå·¥ä½œæµ

### å…³é”®ä¼˜åŠ¿

1. **çœŸæ­£çš„å›¾å½¢åŒ–å·¥ä½œæµ**: ä½¿ç”¨GraphBuilderæ„å»ºèŠ‚ç‚¹å’Œè¾¹çš„å›¾å½¢åŒ–æ‰§è¡Œæµç¨‹
2. **å®Œå…¨å¯¹åº”**: å¤šAgentæ¶æ„å®Œå…¨å¯¹åº”å•Agentçš„å·¥ä½œæµç¨‹
3. **è¿­ä»£æ‰§è¡Œ**: æ”¯æŒå¤šè½®å·¥å…·æ‰§è¡Œï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆ
4. **æ ¼å¼åŒ–è¾“å‡º**: ä¸¥æ ¼æŒ‰ç…§è¦æ±‚æ ¼å¼åŒ–æœ€ç»ˆç­”æ¡ˆ
5. **æ ‡å‡†æ¶æ„**: å®Œå…¨éµå¾ªStrands GraphBuilderçš„æ ‡å‡†API

### æµ‹è¯•ç»“æœ

âœ… GraphBuilderå·¥ä½œæµæ„å»ºæˆåŠŸ
âœ… æ‰€æœ‰AgentèŠ‚ç‚¹æ­£å¸¸å·¥ä½œ
âœ… å·¥ä½œæµæ‰§è¡Œæ­£å¸¸
âœ… æ”¯æŒè¿­ä»£å’Œæ¡ä»¶åˆ†æ”¯
âœ… ç­”æ¡ˆæ ¼å¼åŒ–ç¬¦åˆè¦æ±‚

---

**GraphBuilderæ¶æ„å®ç°å®Œæˆï¼** ğŸ‰

ç°åœ¨çš„å¤šAgentç³»ç»ŸçœŸæ­£åŸºäºStrands GraphBuilderï¼Œå®ç°äº†å›¾å½¢åŒ–å·¥ä½œæµçš„Agentåä½œã€‚